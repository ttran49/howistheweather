<!DOCTYPE html>
<html>
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
        <!--script src="https://www.gstatic.com/firebasejs/3.4.0/firebase.js"></script-->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>HOW'S THE WEATHER?</title>
    <meta name="description" content="A weather app for SWE432.">
    <link rel="stylesheet" href="main.css">
    
    <script type="text/javascript" src="script.js"></script>
    <script src="https://fb.me/react-15.0.0.js"></script>
    <script src="https://fb.me/react-dom-15.0.0.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.34/browser.min.js"></script>
    <!-- ReactFire -->
    <script src="https://cdn.firebase.com/libs/reactfire/1.0.0/reactfire.min.js"></script>
    
</head>
    <body>
    <! the static bar at the top>
    <div id="actionbar" style="overflow:auto; background-color: gray">
        <div style="float:left;width:60%;overflow:hidden;height:64px">
            <img src="http://www.saletur.ru/wimg/wsymbol_0010_heavy_rain_showers.png" alt="icon">
            <div style="float:right;width:30%;overflow:hidden;height:44px">How's the weather?</div>
        </div>
    </div>
    <div>
        <p>
            <a href="https://www.google.com/search?num=50&site=&source=hp&q=weather&oq=weather&gs_l=hp.3..0i67k1j0i20k1j0i67k1l2j0i20k1j0i131k1j0j0i67k1l2j5.273.1078.0.1239.8.8.0.0.0.0.136.679.6j2.8.0....0...1c.1.64.hp..0.7.602.0..35i39k1.WOGUUGxk1R4"> link to weather thing </a>
        </p>
            <a href="resultpage.html"> next page </a>
    </div>
    <!- content, where the weather thing would be>
    
    <!--div id="searchbar">
        <div>
            <!--This should now be properly centered vertically and horizontally-->
            <form style="position:absolute;left:25%;right:25%">
                <button id="searchbutton"style= "float:right"> Search!</button>
                <span style="display:block;overflow: hidden;">
                    <input style="width:100%" type="text" placeholder="Search for location..." required id="searchbox">
                </span>
            </form>
        </div>
    </div-->
    
    <!--div style="position:absolute;top:20%;left:30%;right:30%;bottom:55%">
        <p>The current weather is: </p>
        <p id="winfo"></p>
        <p>Current Temperature:</p>
        <p id="tinfo"></p>
        <script>
            $("#searchbutton").click(function(){
                var city = $("#searchbox").val();
                console.log('this is the text:'+city);
                var api = 'http://api.openweathermap.org/data/2.5/weather?q='+city+'&appid=5e4238139e471d1f84c2d0977305e489';
//                 document.getElementById("winfo").innerHTML = city.weather[0].description;
//                 document.getElementById("tinfo").innerHTML = city.main.temp;
                $.getJSON(api, function(city){
                    var weatherDescription = city.weather[0].description;
                    var weatherTemperature = city.main.temp;
                    console.log(weatherDescription);
                    console.log(weatherTemperature);
                });
            });
        </script-->
    
    <script>
        var SearchStuff = React.createClass({
            render: function(){
                return(
                    <div id="searchbar">
                        <div>
                            <!--This should now be properly centered vertically and horizontally-->
                            <form style="position:absolute;left:25%;right:25%">
                                <span style="display:block;overflow: hidden;">
                                    <input style="width:100%" type="text" placeholder="Search for location..." required id="searchbox">
                                <button id="searchbutton"onClick={this.onClick.bind(this, $("#searchbox"))}style= "float:right"> Search!</button>
                                </span>
                            </form>
                        </div>
                    </div>
                )
            },
            onClick: function(searchboxText){
                search(searchboxText);
            }
        });
        var Search = React.createClass({
            render: function(){
                return(
                    <div style="position:absolute;top:20%;left:30%;right:30%;bottom:55%">
                        <p>The current weather is: </p>
                        <p id="winfo"></p>
                        <p>Current Temperature:</p>
                        <p id="tinfo"></p>
                    </div>
                )
            },
            onClick: function(){
                var city = $("#searchbox").val();
                console.log('this is the text:'+city);
                var api = 'http://api.openweathermap.org/data/2.5/weather?q='+city+'&appid=5e4238139e471d1f84c2d0977305e489';
                document.getElementById("winfo").innerHTML = city.weather[0].description;
                document.getElementById("tinfo").innerHTML = city.main.temp;
/*                $.getJSON(api, function(city){
                    var weatherDescription = city.weather[0].description;
                    var weatherTemperature = city.main.temp;
                    console.log(weatherDescription);
                    console.log(weatherTemperature);
                });*/
            }
        });
    </script>
    <div id="content"style="position:absolute;top:55%;width:50%;left:25%;right:25%">
        <div id="left">
            <button id="newsbutton">News</button>
            <script>
            help = 0;
            news = 0;
            $("#newsbutton").click(function(){
                if(news == 0){
                    $("#news").show();
                    $("#help").hide();
                    news = 1;
                    help = 0;
                }
                else{
                    $("#news").hide();
                    $("#help").hide();
                    news = 0;
                    help = 0;
                }
            });
            </script>
        </div>
        <div id="right">
            <button id="helpbutton">Help</button>
            <script>
            $("#helpbutton").click(function(){
                if(help == 0){
                    $("#help").show();
                    $("#news").hide();
                    help = 1;
                    news = 0;
                }
                else{
                    $("#help").hide();
                    $("#news").hide();
                    help = 0;
                    news = 0;
                }
            });
            </script>
            <!--text right
            <p>
                We're putting a help button here
            </p-->
        </div>
    </div>
    <div id="news"type="text"style="top:60%;left:25%;right:25%;display:none">
        <p>Some kind of news will go here!</p>
    </div>
    <div id="help"type="text"style="top:60%;left:25%;right:25%;display:none">
        <p>Some kind of help will go here!</p>
    </div>
        <footer> Created by Chuck and Nick</footer>
    </body>
</html>
